<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>IoT Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <h2>ğŸ“¡ IoT Monitor</h2>

  <p>ğŸŒ¡ï¸ Temperature: <span id="temp">--</span> Â°C</p>
  <p>ğŸ’§ Humidity: <span id="hum">--</span> %</p>
  <p>ğŸ“¦ Object: <span id="obj">--</span></p>

  <button onclick="buzzer(true)">ğŸ”Š Buzzer ON</button>
  <button onclick="buzzer(false)">ğŸ”‡ Buzzer OFF</button>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getDatabase, ref, onValue, set } 
    from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

  // ğŸ”¥ Firebase config (à¹€à¸­à¸²à¸ˆà¸²à¸ Firebase Console)
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    databaseURL: "https://YOUR_PROJECT.firebaseio.com"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // ğŸ“¥ à¸­à¹ˆà¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ Firebase
  onValue(ref(db, "sensor"), (snapshot) => {
    const d = snapshot.val();
    document.getElementById("temp").innerText = d.temperature;
    document.getElementById("hum").innerText = d.humidity;
    document.getElementById("obj").innerText = d.object ? "Detected" : "None";
  });

  // ğŸ“¤ à¸ªà¹ˆà¸‡à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹„à¸› Firebase
  window.buzzer = (state) => {
    set(ref(db, "control/buzzer"), state);
  }
</script>
</body>
</html>
